app.py  Ù…Ù„Ù

from flask import Flask, render_template, request, redirect, url_for, jsonify
from flask import session
from datetime import datetime
from flask import Flask, render_template, request, session, redirect, url_for, jsonify, flash
import json
import os

# Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Flask:
# Ù‡Ù†Ø§ Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† Ù…Ù† Ù†ÙˆØ¹ FlaskØŒ ÙˆÙ‡Ùˆ Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆÙŠØ¨.
# __name__ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø­Ø§Ù„ÙŠØŒ ÙˆÙŠØ³ØªØ®Ø¯Ù… Flask Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙƒØ§Ù† Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ù„ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (templates) ÙˆØ§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© (static).
app = Flask(__name__)

app.secret_key = "your_secret_key_here"  # Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØªØ§Ø­Ù‹Ø§ ÙØ±ÙŠØ¯Ù‹Ø§ ÙˆØ³Ø±ÙŠÙ‹Ø§
UPLOAD_FOLDER = 'static/uploads/'
app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER
BACKGROUND_FILE = 'background.txt'
RESTAURANT_INFO_FILE = 'restaurant_info.json'  # Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø§Ù„ØµÙˆØ± Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
os.makedirs(UPLOAD_FOLDER, exist_ok=True)

# ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ø®ÙŠØ± Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
def load_background():
    """
    Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© ØªÙ‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø§Ù„ØµÙˆØ±Ø©) Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§.
    - ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù background.txt Ø§Ù„Ø°ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø©.
    - Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ØŒ ÙŠØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø³Ø§Ø± ÙˆÙØ­Øµ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙˆØ±Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø±.
    - Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ Ø£Ùˆ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙˆØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (default.jpg).
    """
    if os.path.exists(BACKGROUND_FILE):
        with open(BACKGROUND_FILE, 'r', encoding='utf-8') as f:
            path = f.read().strip()
            return path if os.path.exists(path) else 'static/uploads/default.jpg'
    return 'static/uploads/default.jpg'

# Ø­ÙØ¸ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØµÙˆØ±Ø©
def save_background(path):
    """
    Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© ØªÙ‚ÙˆÙ… Ø¨Ø­ÙØ¸ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ Ù…Ù„Ù background.txt.
    - ÙŠØªÙ… ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù„Ù.
    - Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© ÙƒØ®Ù„ÙÙŠØ© Ù„Ù„Ù…ÙˆÙ‚Ø¹.
    """
    with open(BACKGROUND_FILE, 'w', encoding='utf-8') as f:
        f.write(path)

# ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
def load_restaurant_info():
    """ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ù† Ù…Ù„Ù JSON"""
    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù JSON Ø§Ù„Ø®Ø§Øµ Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
    if os.path.exists(RESTAURANT_INFO_FILE):
        # ÙØªØ­ Ù…Ù„Ù JSON ÙˆÙ‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ù‡
        with open(RESTAURANT_INFO_FILE, 'r', encoding='utf-8') as f:
            info = json.load(f)  # Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ù† Ø§Ù„Ù…Ù„Ù
            
            # Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ø®ØµØ§Ø¦Øµ Ù…ÙˆØ¬ÙˆØ¯Ø©
            info.setdefault('font_size', '24px')  # Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
            info.setdefault('font_color', '#000000')  # Ù„ÙˆÙ† Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
            info.setdefault('font_family', 'Arial')  # Ù†ÙˆØ¹ Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
            
            # ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            try:
                # ÙØªØ­ Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ø®Ø· Ø§Ù„ÙØ¦Ø© ÙˆÙ‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ù‡
                with open('category_font_settings.json', 'r') as font_file:
                    font_settings = json.load(font_file)  # Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø©
                    
                    # ØªØ¹ÙŠÙŠÙ† Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ø¹ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙˆØ­Ø¯Ø© "px" Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
                    info['category_font_size'] = font_settings.get('font_size', '20px').replace('px', '')
                    
                    # ØªØ¹ÙŠÙŠÙ† Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ùˆ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                    info['category_font_family'] = font_settings.get('font_family', 'Noto Naskh Arabic')
            except FileNotFoundError:
                # ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø©ØŒ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                info['category_font_size'] = '20'
                info['category_font_family'] = 'Noto Naskh Arabic'
            
            return info  # Ø¥Ø±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
    # ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù JSONØŒ ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    return {
        "name": "Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…",  # Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        "logo": "static/uploads/default_logo.png",  # Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        "font_size": "24px",  # Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
        "font_color": "#000000",  # Ù„ÙˆÙ† Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
        "font_family": "Arial",  # Ù†ÙˆØ¹ Ø§Ù„Ø®Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†ØµÙˆØµ
        "category_font_size": "20",  # Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        "category_font_family": "Noto Naskh Arabic"  # Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    }

# Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
def save_restaurant_info(info):
    # Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… ÙÙŠ Ù…Ù„Ù JSON
    with open(RESTAURANT_INFO_FILE, 'w', encoding='utf-8') as f:
        json.dump(info, f, ensure_ascii=False, indent=4)  # ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ØµÙŠØºØ© JSON Ù…Ø¹ ØªØ¬Ù†Ø¨ ØªØ±Ù…ÙŠØ² Ø§Ù„Ø£Ø­Ø±Ù ØºÙŠØ± ASCII ÙˆØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ

# ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
background_image = load_background()

# ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
restaurant_info = load_restaurant_info()

def load_menu():
    """ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ù…Ù„Ù JSON"""
    try:
        # ÙØªØ­ Ù…Ù„Ù Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ù‡
        with open('menu.json', 'r', encoding='utf-8') as file:
            return json.load(file)  # Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ø§Ù„Ù…Ù„Ù
    except FileNotFoundError:
        return {}  # Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ØŒ ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø±ØºØ©

def save_menu(menu):
    """Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙŠ Ù…Ù„Ù JSON"""
    # Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙŠ Ù…Ù„Ù JSON
    with open('menu.json', 'w', encoding='utf-8') as file:
        json.dump(menu, file, ensure_ascii=False, indent=4)  # ÙƒØªØ§Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨ØµÙŠØºØ© JSON Ù…Ø¹ ØªØ¬Ù†Ø¨ ØªØ±Ù…ÙŠØ² Ø§Ù„Ø£Ø­Ø±Ù ØºÙŠØ± ASCII ÙˆØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ

from datetime import datetime

@app.route('/')
def index():
    """Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"""
    lang = request.args.get('lang', 'ar')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ØºØ© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ù† Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø·Ù„Ø¨ (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)
    menu = load_menu()  # ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ù…Ù„Ù JSON
    
    # ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø± ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ HTML
    bg_image = url_for('static', filename=load_background().replace('static/', ''))
    
    # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…Ø© Ø²Ù…Ù†ÙŠØ© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ù„Ø®Ù„ÙÙŠØ© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
    timestamp = datetime.now().timestamp()
    
    # Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ù„Ø¨ HTML ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©
    return render_template('index.html', menu=menu, lang=lang, bg_image=bg_image, restaurant_info=restaurant_info, timestamp=timestamp)

@app.route('/update_restaurant_info', methods=['POST'])
def update_restaurant_info():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬."""
    global restaurant_info  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ø¹Ø§Ù… Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
    name_ar = request.form.get('name_ar')  # Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¥Ø¬Ø¨Ø§Ø±ÙŠ)
    name_en = request.form.get('name_en')  # Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    logo = request.files.get('logo')  # Ù…Ù„Ù Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
    
    if name_ar:
        restaurant_info['name'] = name_ar  # ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¥Ø°Ø§ ØªÙ… Ø¥Ø¯Ø®Ø§Ù„Ù‡
    if name_en:  # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ØªÙ… Ø¥Ø¯Ø®Ø§Ù„Ù‡
        restaurant_info['name_en'] = name_en
    if logo:  # Ø¥Ø°Ø§ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯
        logo_filename = os.path.join(app.config['UPLOAD_FOLDER'], logo.filename)  # ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø± Ø­ÙØ¸ Ø§Ù„Ø´Ø¹Ø§Ø±
        logo.save(logo_filename)  # Ø­ÙØ¸ Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø®ØµØµ
        restaurant_info['logo'] = f'static/uploads/{logo.filename}'  # ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø± Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
    
    save_restaurant_info(restaurant_info)  # Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙÙŠ Ù…Ù„Ù JSON
    return jsonify({"success": True, "message": "ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­!"})  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ø¨ØµÙŠØºØ© JSON

@app.route('/add_item', methods=['POST'])
def add_item():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬."""
    category_ar = request.form.get('category')  # Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    new_category_ar = request.form.get('new_category_ar')  # Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø¹Ø±Ø¨ÙŠ)
    new_category_en = request.form.get('new_category_en')  # Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
    name_ar = request.form.get('name_ar')  # Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    name_en = request.form.get('name_en')  # Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    price = request.form.get('price')  # Ø³Ø¹Ø± Ø§Ù„ØµÙ†Ù
    calories = request.form.get('calories', '')  # Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    description_ar = request.form.get('description_ar', '')  # ÙˆØµÙ Ø§Ù„ØµÙ†Ù Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    description_en = request.form.get('description_en', '')  # ÙˆØµÙ Ø§Ù„ØµÙ†Ù Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    image = request.files.get('image')  # ØµÙˆØ±Ø© Ø§Ù„ØµÙ†Ù

    # ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
    if new_category_ar and new_category_en:  # Ø¥Ø°Ø§ ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©
        category_ar = new_category_ar  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        category_en = new_category_en  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    elif category_ar:  # Ø¥Ø°Ø§ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©
        menu = load_menu()  # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        category_en = menu[category_ar]['name_en']  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    else:  # Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ ÙØ¦Ø©
        return jsonify({"error": "Category is required"}), 400  # Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ø·Ø£ ÙŠÙÙŠØ¯ Ø¨Ø¶Ø±ÙˆØ±Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ¦Ø©

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠØ©
    if not all([name_ar, name_en, price, image]):  # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠØ©
        return jsonify({"error": "Missing required fields"}), 400  # Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ø·Ø£ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø­Ù‚ÙˆÙ„ Ù…ÙÙ‚ÙˆØ¯Ø©

    # Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©
    image_filename = os.path.join(app.config['UPLOAD_FOLDER'], image.filename)  # ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø± Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©
    image.save(image_filename)  # Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø®ØµØµ

    # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    menu = load_menu()  # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    if category_ar not in menu:  # Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ÙØ¦Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        menu[category_ar] = {'name_en': category_en, 'items': []}  # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ù„Ù„Ø¹Ù†Ø§ØµØ±
    menu[category_ar]['items'].append({  # Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¥Ù„Ù‰ Ø§Ù„ÙØ¦Ø©
        'name': name_ar,
        'name_en': name_en,
        'price': price,
        'calories': calories or '',  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø£Ùˆ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ©
        'description_ar': description_ar or '',  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø£Ùˆ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ©
        'description_en': description_en or '',  # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø£Ùˆ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ©
        'image': image_filename  # Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
    })
    save_menu(menu)  # Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙÙŠ Ù…Ù„Ù JSON
    return jsonify({"message": "ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù Ø¨Ù†Ø¬Ø§Ø­!"}), 201  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ø¨ØµÙŠØºØ© JSON
#====================================================================

@app.route('/delete_item', methods=['POST'])
def delete_item():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø­Ø°Ù ØµÙ†Ù Ù…Ø¹ÙŠÙ† Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„Ø§Ø³Ù…."""
    data = request.get_json()  # Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø·Ù„Ø¨ Ø¨ØµÙŠØºØ© JSON
    category_ar = data.get('category')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    item_name = data.get('item_name')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù Ø§Ù„Ù…Ø±Ø§Ø¯ Ø­Ø°ÙÙ‡

    # Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„ØµÙ†Ù ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    menu = load_menu()  # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    if category_ar in menu:  # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙØ¦Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        items = menu[category_ar]['items']  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ¦Ø©
        # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙ†Ù ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØ­Ø°ÙÙ‡
        for item in items:
            if item['name'] == item_name:  # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù ÙŠØ·Ø§Ø¨Ù‚
                items.remove(item)  # Ø­Ø°Ù Ø§Ù„ØµÙ†Ù Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                save_menu(menu)  # Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
                return jsonify({"message": "ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙ†Ù Ø¨Ù†Ø¬Ø§Ø­!"}), 200  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
    return jsonify({"error": "Ø§Ù„ØµÙ†Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"}), 404  # Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ø·Ø£ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ØµÙ†Ù


@app.route('/get_category_color', methods=['GET'])
def get_category_color():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£Ùˆ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§."""
    try:
        with open('category_color.txt', 'r') as f:  # ÙØªØ­ Ù…Ù„Ù Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©
            color = f.read().strip()  # Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù„ÙˆÙ† Ù…Ù† Ø§Ù„Ù…Ù„Ù ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©
        return jsonify({'color': color})  # Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
    except FileNotFoundError:
        return jsonify({'color': '#ff0000'})  # Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø£Ø­Ù…Ø±) Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§


@app.route('/delete_category', methods=['POST'])
def delete_category():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø­Ø°Ù ÙØ¦Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©."""
    data = request.get_json()  # Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø·Ù„Ø¨ Ø¨ØµÙŠØºØ© JSON
    category_ar = data.get('category')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø­Ø°ÙÙ‡Ø§

    menu = load_menu()  # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    if category_ar in menu:  # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙØ¦Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        del menu[category_ar]  # Ø­Ø°Ù Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
        save_menu(menu)  # Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
        return jsonify({"message": "ØªÙ… Ø­Ø°Ù Ø§Ù„ÙØ¦Ø© Ø¨Ù†Ø¬Ø§Ø­!"}), 200  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
    return jsonify({"error": "Ø§Ù„ÙØ¦Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©"}), 404  # Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ø·Ø£ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ÙØ¦Ø©


@app.route('/upload_background', methods=['POST'])
def upload_background():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø±ÙØ¹ Ø®Ù„ÙÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙØ¦Ø§Øª Ù…Ø«Ù„ Ø§Ù„Ù„ÙˆÙ† ÙˆØ®ØµØ§Ø¦Øµ Ø§Ù„Ø®Ø·."""
    background_file = request.files.get('background')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    category_color = request.form.get('category_color', None)  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    category_font_color = request.form.get('category_font_color', None)  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    category_font_size = request.form.get('category_font_size', None)  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    category_font_family = request.form.get('category_font_family', None)  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    
    # Ø­ÙØ¸ Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø¥Ø°Ø§ ØªÙ… Ø±ÙØ¹Ù‡Ø§)
    if background_file:
        background_filename = os.path.join(app.config['UPLOAD_FOLDER'], background_file.filename)  # ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø± Ø­ÙØ¸ Ø§Ù„Ø®Ù„ÙÙŠØ©
        background_file.save(background_filename)  # Ø­ÙØ¸ Ù…Ù„Ù Ø§Ù„Ø®Ù„ÙÙŠØ©
        save_background(background_filename)  # ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…
    
    # Ø­ÙØ¸ Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© (Ø¥Ø°Ø§ ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡)
    if category_color:
        save_category_color(category_color)  # Ø­ÙØ¸ Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© ÙÙŠ Ù…Ù„Ù
    
    # Ø­ÙØ¸ Ø®ØµØ§Ø¦Øµ Ø®Ø· Ø§Ù„ÙØ¦Ø© (Ø¥Ø°Ø§ ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§)
    if category_font_color:
        save_category_font_color(category_font_color)  # Ø­ÙØ¸ Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© ÙÙŠ Ù…Ù„Ù
    
    # Ø­ÙØ¸ Ø­Ø¬Ù… ÙˆÙ†ÙˆØ¹ Ø§Ù„Ø®Ø· ÙÙŠ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
    if category_font_size or category_font_family:
        font_settings = {}
        try:
            with open('category_font_settings.json', 'r') as f:  # ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                font_settings = json.load(f)
        except FileNotFoundError:
            pass
        
        if category_font_size:
            font_settings['font_size'] = f"{category_font_size}px"  # ØªØ­Ø¯ÙŠØ« Ø­Ø¬Ù… Ø§Ù„Ø®Ø·
        if category_font_family:
            font_settings['font_family'] = category_font_family  # ØªØ­Ø¯ÙŠØ« Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·
        
        with open('category_font_settings.json', 'w') as f:  # Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
            json.dump(font_settings, f)
    
    return jsonify({'success': True, 'message': 'ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­!', 'timestamp': datetime.now().timestamp()})  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­


@app.route('/get_category_font_settings', methods=['GET'])
def get_category_font_settings():
    """ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒÙˆØ¯: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£Ùˆ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©."""
    try:
        with open('category_font_settings.json', 'r') as f:  # ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø©
            settings = json.load(f)
            return jsonify({
                'font_size': settings.get('font_size', '20px'),  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø£Ùˆ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                'font_family': settings.get('font_family', 'Noto Naskh Arabic')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø· Ø£Ùˆ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            })
    except FileNotFoundError:
        return jsonify({
            'font_size': '20px',  # Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ø­Ø¬Ù… Ø§Ù„Ø®Ø·
            'font_family': 'Noto Naskh Arabic'  # Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·
        })

#================================================================================================
def save_category_color(color):
    # Ø­ÙØ¸ Ø§Ù„Ù„ÙˆÙ† ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ù…Ù„Ù
    with open('category_color.txt', 'w') as f:
        f.write(color)


# Ø­ÙØ¸ Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© (Ø¬Ø¯ÙŠØ¯Ø©)
def save_category_font_color(color):
    with open('category_font_color.txt', 'w') as f:
        f.write(color)

@app.route('/get_category_font_color', methods=['GET'])
def get_category_font_color():
    try:
        with open('category_font_color.txt', 'r') as f:
            color = f.read().strip()
        return jsonify({'color': color})
    except FileNotFoundError:
        return jsonify({'color': '#000000'})  # Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø£Ø³ÙˆØ¯


@app.route('/update_restaurant_name_style', methods=['POST'])
def update_restaurant_name_style():
    """ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… (Ø­Ø¬Ù… Ø§Ù„Ø®Ø·ØŒ Ù„ÙˆÙ† Ø§Ù„Ø®Ø·ØŒ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·)"""
    global restaurant_info

    # Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    font_size = request.form.get('font_size')
    font_color = request.form.get('font_color')
    font_family = request.form.get('font_family')

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    if not all([font_size, font_color, font_family]):
        return jsonify({"success": False, "error": "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©"}), 400

    # ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…
    restaurant_info['font_size'] = font_size
    restaurant_info['font_color'] = font_color
    restaurant_info['font_family'] = font_family

    # Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ù…Ù„Ù restaurant_info.json
    save_restaurant_info(restaurant_info)

    return jsonify({"success": True, "message": "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­!"})


#===================================================================================================


# ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©
ADMIN_USERNAME = "admin"  # Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø´Ø±Ù
ADMIN_PASSWORD = "admin_password"  # ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§ ÙÙ‚Ø· Ù…Ù† Ø§Ù„ÙƒÙˆØ¯)

RESTAURANT_USERNAME = "restaurant"  # Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø·Ø¹Ù…
RESTAURANT_PASSWORD = "admin"  # ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø·Ø¹Ù…


# Ù…Ø³Ø§Ø± Ù…Ù„ÙØ§Øª Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯
ADMIN_CREDENTIALS_FILE = "admin_credentials.txt"
RESTAURANT_CREDENTIALS_FILE = "restaurant_credentials.txt"

# Ø¯Ø§Ù„Ø© Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ù† Ù…Ù„Ù
def read_credentials(file_path):
    if not os.path.exists(file_path):
        return None, None
    with open(file_path, 'r') as f:
        lines = f.readlines()
        username = lines[0].strip()
        password = lines[1].strip()
    return username, password

# Ø¯Ø§Ù„Ø© Ù„ÙƒØªØ§Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¥Ù„Ù‰ Ù…Ù„Ù
def write_credentials(file_path, username, password):
    with open(file_path, 'w') as f:
        f.write(f"{username}\n{password}\n")
# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
@app.route('/login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST':
        username = request.form.get('username')
        password = request.form.get('password')
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø±Ù
        admin_username, admin_password = read_credentials(ADMIN_CREDENTIALS_FILE)
        if username == admin_username and password == admin_password:
            session['logged_in'] = True
            session['is_admin'] = True
            return redirect(url_for('admin_home'))  # ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø´Ø±Ù Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ÙˆØ³ÙŠØ· Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
        restaurant_username, restaurant_password = read_credentials(RESTAURANT_CREDENTIALS_FILE)
        if username == restaurant_username and password == restaurant_password:
            session['logged_in'] = True
            session['is_admin'] = False
            return redirect(url_for('admin_panel'))  # ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø·Ø¹Ù… Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        else:
            return render_template('login.html', error="Ø®Ø·Ø£ ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±")
    return render_template('login.html')

# Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
ADMIN_USERNAME, ADMIN_PASSWORD = read_credentials(ADMIN_CREDENTIALS_FILE)
if ADMIN_USERNAME is None or ADMIN_PASSWORD is None:
    ADMIN_USERNAME, ADMIN_PASSWORD = "admin", "admin_password"
    write_credentials(ADMIN_CREDENTIALS_FILE, ADMIN_USERNAME, ADMIN_PASSWORD)

RESTAURANT_USERNAME, RESTAURANT_PASSWORD = read_credentials(RESTAURANT_CREDENTIALS_FILE)
if RESTAURANT_USERNAME is None or RESTAURANT_PASSWORD is None:
    RESTAURANT_USERNAME, RESTAURANT_PASSWORD = "restaurant", "admin"
    write_credentials(RESTAURANT_CREDENTIALS_FILE, RESTAURANT_USERNAME, RESTAURANT_PASSWORD)



# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
@app.route('/logout')
def logout():
    session.clear()
    return redirect(url_for('index'))

@app.route('/change_password_page')
def change_password_page():
    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    if not session.get('logged_in'):
        # Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡Ù‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        return redirect(url_for('login'))
    
    # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ ÙŠØªÙ… Ø¹Ø±Ø¶ ØµÙØ­Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    return render_template('change_password.html')

# ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
@app.route('/change_password', methods=['POST'])
def change_password():
    if not session.get('logged_in'):
        return jsonify({"success": False, "error": "ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ"}), 403
    current_password = request.form.get('current_password')
    new_password = request.form.get('new_password')
    # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ùˆ Ø§Ù„Ù…Ø´Ø±Ù
    if session.get('is_admin'):
        admin_username, admin_password = read_credentials(ADMIN_CREDENTIALS_FILE)
        if current_password == admin_password:
            write_credentials(ADMIN_CREDENTIALS_FILE, admin_username, new_password)
            flash("ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!", "success")
            return redirect(url_for('change_password_page'))
        else:
            flash("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©", "error")
            return redirect(url_for('change_password_page'))
    # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù…
    else:
        restaurant_username, restaurant_password = read_credentials(RESTAURANT_CREDENTIALS_FILE)
        if current_password == restaurant_password:
            write_credentials(RESTAURANT_CREDENTIALS_FILE, restaurant_username, new_password)
            flash("ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!", "success")
            return redirect(url_for('login'))
        else:
            flash("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©", "error")
            return redirect(url_for('login'))

# ØµÙØ­Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
@app.route('/update_credentials', methods=['POST'])
def update_credentials():
    if not session.get('logged_in') or not session.get('is_admin'):
        return jsonify({"success": False, "error": "ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ"}), 403

    new_username = request.form.get('new_username')
    new_password = request.form.get('new_password')

    # Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    restaurant_username, restaurant_password = read_credentials(RESTAURANT_CREDENTIALS_FILE)

    # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù‚ÙŠÙ… Ø¬Ø¯ÙŠØ¯Ø©
    if new_username:
        restaurant_username = new_username
    if new_password:
        restaurant_password = new_password

    # ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ø¥Ù„Ù‰ Ù…Ù„Ù
    write_credentials(RESTAURANT_CREDENTIALS_FILE, restaurant_username, restaurant_password)
    return jsonify({"success": True, "message": "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­!"})
# ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
@app.route('/admin_home')
def admin_home():
    if not session.get('logged_in') or not session.get('is_admin'):
        return redirect(url_for('login'))  # Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø´Ø±ÙÙ‹Ø§
    return render_template('admin_home.html')

# ØµÙØ­Ø© ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
@app.route('/update_restaurant_credentials_page')
def update_restaurant_credentials_page():
    if not session.get('logged_in') or not session.get('is_admin'):
        return redirect(url_for('login'))  # Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø´Ø±ÙÙ‹Ø§
    return render_template('update_restaurant_credentials.html')

# ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†
# ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
@app.route('/update_restaurant_credentials', methods=['POST'])
def update_restaurant_credentials():
    if not session.get('logged_in') or not session.get('is_admin'):
        return jsonify({"success": False, "error": "ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ"}), 403

    current_username = request.form.get('current_username')
    current_password = request.form.get('current_password')
    new_username = request.form.get('new_username')
    new_password = request.form.get('new_password')

    # Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    restaurant_username, restaurant_password = read_credentials(RESTAURANT_CREDENTIALS_FILE)

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    if current_username == restaurant_username and current_password == restaurant_password:
        # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù‚ÙŠÙ… Ø¬Ø¯ÙŠØ¯Ø©
        if new_username:
            restaurant_username = new_username
        if new_password:
            restaurant_password = new_password

        # ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ø¥Ù„Ù‰ Ù…Ù„Ù
        write_credentials(RESTAURANT_CREDENTIALS_FILE, restaurant_username, restaurant_password)
        return jsonify({"success": True, "message": "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ù†Ø¬Ø§Ø­!"})
    else:
        return jsonify({"success": False, "error": "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©"}), 400

# Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
@app.route('/admin')
def admin_panel():
    if not session.get('logged_in'):
        return redirect(url_for('login'))

    # ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    menu = load_menu()

    # Ø¬Ù„Ø¨ Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© ÙˆÙ„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª
    try:
        with open('category_color.txt', 'r') as f:
            category_color = f.read().strip()
    except FileNotFoundError:
        category_color = '#ff0000'  # Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø£Ø­Ù…Ø±

    try:
        with open('category_font_color.txt', 'r') as f:
            category_font_color = f.read().strip()
    except FileNotFoundError:
        category_font_color = '#000000'  # Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø£Ø³ÙˆØ¯

    # Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† settings ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    settings = {
        "category_color": category_color,
        "category_font_color": category_font_color
    }

    return render_template(
        'dashboard.html',
        menu=menu,
        restaurant_info=restaurant_info,
        settings=settings  # ØªÙ…Ø±ÙŠØ± ÙƒØ§Ø¦Ù† settings Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ù„Ø¨
    )

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø©
@app.route('/get_background', methods=['GET'])
def get_background():
    background_path = load_background()
    return jsonify({
        'background': background_path,
        'timestamp': datetime.now().timestamp()
    })




if __name__ == '__main__':
    #app.run(host="0.0.0.0", port=10000, debug=False)
  #  app.run(host="192.168.100.90",port=5000,debug=False)
    app.run(debug=True)

    ===================================================================================================
    index.html  Ù…Ù„Ù

    <!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Ø¥Ø¶Ø§ÙØ© Ø®Ø· Noto Naskh Arabic Ù…Ù† Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>{{ 'Menu' if lang == 'en' else 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©' }}</title>
</head>
<body style="background-image: url('{{ bg_image }}?v={{ timestamp }}');">
 <!--  style="background-image: url('{{ bg_image }}');">  -->

       
    <!-- Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© -->
    <a href="?lang={{ 'en' if lang == 'ar' else 'ar' }}" class="language-switcher">
        {{ 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' if lang == 'en' else 'English' }}
    </a>

    <!-- Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… 
    <div class="admin-panel">
        <a href="/admin" class="admin-button">{{ 'Admin Panel' if lang == 'en' else 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…' }}</a>
    </div>
              
    -->
    <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆØ§Ù„Ø´Ø¹Ø§Ø± -->
    <div class="restaurant-header">
        <img src="{{ restaurant_info['logo'] }}" alt="Logo" class="restaurant-logo">
        <h1 class="restaurant-name" style="font-size: {{ restaurant_info.get('font_size', '24px') }}; color: {{ restaurant_info.get('font_color', '#000000') }}; font-family: {{ restaurant_info.get('font_family', 'Arial') }};">
            {% if lang == 'en' and restaurant_info.get('name_en') %}
                {{ restaurant_info['name_en'] }}
            {% else %}
                {{ restaurant_info['name'] }}
            {% endif %}
        </h1>
    </div>

    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="menu-container">
        <div class="category-grid">
            {% for category, details in menu.items() %}
            {% set category_id = category | replace(' ', '_') %}
            <div class="category-box">
                <!-- Ø²Ø± Ø§Ù„ÙØ¦Ø© -->
                <div class="category" data-category="{{ category_id }}" onclick="toggleItems('{{ category_id }}')">
                    {{ details['name_en'] if lang == 'en' else category }}
                </div>
                <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ¦Ø© -->
                <ul class="menu-items" id="{{ category_id }}">
                    {% for item in details['items'] %}
                    <li class="item">
                        <div class="item-layout">
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø±: Ø§Ù„ØµÙˆØ±Ø© -->
                            <div class="left-column">
                                <img src="{{ item['image'] }}" alt="{{ item['name'] }}">
                            </div>
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆØ³Ø·: Ø§Ø³Ù… Ø§Ù„ØµÙ†ÙØŒ Ø§Ù„Ø³Ø¹Ø±ØŒ ÙˆØ§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© -->
                            <div class="center-column">
                                <!-- ÙƒØªÙ„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø³Ø¹Ø± -->
                                <div class="item-details">
                                    <!-- Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù -->
                                    <h4 class="item-name">{{ item['name_en'] if lang == 'en' else item['name'] }}</h4>
                                    <!-- Ø§Ù„Ø³Ø¹Ø± ÙˆØ±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø© -->
                                    <p class="price">{{ item['price'] }} {{ 'SAR' if lang == 'en' else 'ï·¼' }}</p>
                                </div>
                                <!-- Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© -->
                                {% if item['calories'] %}
                                <span class="calories">{{ item['calories'] }}ğŸ”¥</span>
                                {% endif %}
                            </div>
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù†: Ø§Ù„ÙˆØµÙ -->
                            <div class="right-column">
                                <!-- Ø§Ù„ÙˆØµÙ -->
                                {% if item['description_ar'] or item['description_en'] %}
                                <p class="description">{{ item['description_ar'] if lang == 'ar' else item['description_en'] }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
        </div>
    </div>
    
    


<!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ -->
<footer class="footer-bar">
    <div class="footer-content">
        <!-- Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø±Ù‰: Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ§Ù„Ø³Ù†Ø© -->
        <div class="left-section">
            <span class="rights">{{ 'All Rights Reserved' if lang == 'en' else 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©' }}</span>
            <span class="current-year">&copy; <span id="current-year"></span></span>
        </div>

        <!-- Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰: ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± ÙˆØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ -->
        <div class="right-section">
            <span class="design-development">{{ 'Design & Development / A.O' if lang == 'en' else 'ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± /  Ø¹.Ø¹' }}</span>
            <div class="whatsapp-contact">
               <!-- <span>{{ 'Contact Us' if lang == 'en' else 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§' }}</span>
                <a href="https://wa.me/qr/5W3XHGTHNZQAJ1" class="whatsapp-link" target="_blank">
                    <img src="{{ url_for('static', filename='whatsapp-icon.png') }}" alt="WhatsApp">
                </a>     -->
            </div>
        </div>
    </div>
</footer>



    <!-- Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
    <script>
     // ØªØ¨Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ±
        function toggleItems(category) {
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            var itemsList = document.getElementById(category);

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø¦ÙŠØ© Ø£Ù… Ù„Ø§
            if (itemsList.style.display === "block") {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø±Ø¦ÙŠØ©ØŒ Ù‚Ù… Ø¨Ø¥Ø®ÙØ§Ø¦Ù‡Ø§
                itemsList.style.display = "none";
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø®ÙÙŠØ©ØŒ Ù‚Ù… Ø¨Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø£ÙˆÙ„Ø§Ù‹
                document.querySelectorAll('.menu-items').forEach(function (list) {
                    list.style.display = "none";
                });
                // Ø«Ù… Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
                itemsList.style.display = "block";
            }
        }



    // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
    fetch('/get_category_color')
        .then(response => response.json())
        .then(data => {
            if (data.color) {
                document.documentElement.style.setProperty('--category-color', data.color);
            }
        })
        .catch(error => console.error('Error:', error));

        // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
        fetch('/get_category_font_color')
            .then(response => response.json())
            .then(data => {
                if (data.color) {
                    document.documentElement.style.setProperty('--category-font-color', data.color);
                }
            })
            .catch(error => console.error('Error:', error));

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§
            function updateBackground() {
                fetch('/get_background')
                    .then(response => response.json())
                    .then(data => {
                        document.body.style.backgroundImage = url('${data.background}?v=${data.timestamp}');
                    })
                    .catch(error => console.error('Error:', error));
            }


                        document.addEventListener("DOMContentLoaded", function () {
                updateBackground();
            });


            // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
            fetch('/get_category_color')
                .then(response => response.json())
                .then(data => {
                    if (data.color) {
                        document.documentElement.style.setProperty('--category-color', data.color);
                    }
                })
                .catch(error => console.error('Error:', error));

            // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
            fetch('/get_category_font_color')
                .then(response => response.json())
                .then(data => {
                    if (data.color) {
                        document.documentElement.style.setProperty('--category-font-color', data.color);
                    }
                })
                .catch(error => console.error('Error:', error));

    // Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
    fetch('/get_category_font_settings')
        .then(response => response.json())
        .then(data => {
            if (data.font_size) {
                document.documentElement.style.setProperty('--category-font-size', data.font_size);
            }
            if (data.font_family) {
                document.documentElement.style.setProperty('--category-font-family', data.font_family);
            }
        })
        .catch(error => console.error('Error:', error));

    

    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ
    const currentYear = new Date().getFullYear();
    document.getElementById('current-year').textContent = currentYear;


    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„
document.addEventListener("scroll", function () {
    const scrollSection = document.getElementById("scroll-section");
    const scrollPosition = window.scrollY + window.innerHeight;
    const pageHeight = document.body.offsetHeight;

    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ù…Ù† Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø©
    if (scrollPosition >= pageHeight - 20) {
        scrollSection.classList.remove("hidden");
    } else {
        scrollSection.classList.add("hidden");
    }
});


        
    </script>

  


  

    

</body>
</html>

===========================================================================================================

dashboard.html   Ù…Ù„Ù

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_dashboard.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon1.ico') }}" type="image/x-icon">
</head>
<body>

    <!--Ø²Ø± Ø§Ù„Ø®Ø±ÙˆØ¬-->
    <a href="{{url_for('logout') }}" class="logout-button">Ø®Ø±ÙˆØ¬ Exet</a>

    <h1 class="dual-language">
        <span class="ar">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
        <span class="en">Dashboard</span>
    </h1>
<!-- Ù‚Ø³Ù… ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù… -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…</span>
        <span class="en">Update Restaurant Info</span>
    </h2>
    <form id="restaurantInfoForm" enctype="multipart/form-data">
        <input type="text" id="restaurant_name_ar" name="name_ar" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… (Ø¹Ø±Ø¨ÙŠ)  Restaurant Name (Arabic)">
        <input type="text" id="restaurant_name_en" name="name_en" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)  Restaurant Name (English)">
        <label for="logo" class="dual-language">
            <span class="ar">Ø±ÙØ¹ Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø·Ø¹Ù…:</span>
            <span class="en">Upload Restaurant Logo:</span>
        </label>
        <input type="file" id="logo" name="logo" accept="image/*">
        <button type="submit" class="update-info-btn dual-language">
            <span class="ar">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span>
            <span class="en">Update Info</span>
        </button>
    </form>
</div>

<!-- Ù‚Ø³Ù… ØªØ¹Ø¯ÙŠÙ„ Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">ØªØ¹Ø¯ÙŠÙ„ Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…</span>
        <span class="en">Update Restaurant Name Style</span>
    </h2>
    <form id="restaurantNameStyleForm">
        <!-- Ø­Ø¬Ù… Ø§Ù„Ø®Ø· -->
        <label for="font_size" class="dual-language">
            <span class="ar">Ø­Ø¬Ù… Ø§Ù„Ø®Ø·:</span>
            <span class="en">Font Size:</span>
        </label>
        <input type="number" id="font_size" name="font_size" placeholder="Ø­Ø¬Ù… Ø§Ù„Ø®Ø· (px) Font Size" required>
        <!-- Ù„ÙˆÙ† Ø§Ù„Ø®Ø· -->
        <label for="font_color" class="dual-language">
            <span class="ar">Ù„ÙˆÙ† Ø§Ù„Ø®Ø·:</span>
            <span class="en">Font Color:</span>
        </label>
        <input type="color" id="font_color" name="font_color" required>
        <!-- Ù†ÙˆØ¹ Ø§Ù„Ø®Ø· -->
        <select id="font_family" name="font_family" required>
            <option value="Arial">Arial</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Noto Naskh Arabic" selected>Noto Naskh Arabic</option>
            <option value="Courier New">Courier New</option>
            <option value="Verdana">Verdana</option>
            <option value="Amiri">Amiri</option>
            <option value="Lateef">Lateef</option>
        </select>
        <button type="submit" class="update-style-btn dual-language">
            <span class="ar">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ØµØ§Ø¦Øµ</span>
            <span class="en">Update Style</span>
        </button>
    </form>
</div>



    <!-- Ù‚Ø³Ù… Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">ØªØºÙŠÙŠØ± Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹</span>
        <span class="en">Change Background</span>
    </h2>
    <form id="backgroundForm" enctype="multipart/form-data">
        <input type="file" name="background" id="background-input" accept="image/*">
        <button type="button" onclick="uploadBackground()" class="upload-background-btn dual-language">
            <span class="ar">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ù„ÙÙŠØ©</span>
            <span class="en">Update Background</span>
        </button>
    </form>
</div>

<!-- Ù‚Ø³Ù… ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©</span>
        <span class="en">Update Category Color</span>
    </h2>
    <form id="categoryColorForm">
        <label for="category_color" class="dual-language">
            <span class="ar">Ø§Ø®ØªØ± Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©:</span>
            <span class="en">Choose Category Color:</span>
        </label>
        <input type="color" id="category_color" name="category_color" value="#ff0000">
        <button type="button" onclick="updateCategoryColor()" class="update-category-color-btn dual-language">
            <span class="ar">ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©</span>
            <span class="en">Update Category Color</span>
        </button>
    </form>
</div>

<!-- Ù‚Ø³Ù… ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø®Ø· Ø§Ù„ÙØ¦Ø© -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø®Ø· Ø§Ù„ÙØ¦Ø©</span>
        <span class="en">Update Category Font Style</span>
    </h2>
    <form id="categoryFontStyleForm">
        <!-- Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø© -->
        <label for="category_font_size" class="dual-language">
            <span class="ar">Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø©:</span>
            <span class="en">Category Font Size:</span>
        </label>
        <input type="number" id="category_font_size" name="category_font_size" placeholder="Ø­Ø¬Ù… Ø§Ù„Ø®Ø· (px) Font Size" value="16">
        <!-- Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø© -->
        <label for="category_font_family" class="dual-language">
            <span class="ar">Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø©:</span>
            <span class="en">Category Font Family:</span>
        </label>
        <select id="category_font_family" name="category_font_family">
            <option value="Arial">Arial</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Noto Naskh Arabic" selected>Noto Naskh Arabic</option>
            <option value="Courier New">Courier New</option>
            <option value="Verdana">Verdana</option>
            <option value="Amiri">Amiri</option>
            <option value="Lateef">Lateef</option>
        </select>
        <!-- Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© -->
        <label for="category_font_color" class="dual-language">
            <span class="ar">Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø©:</span>
            <span class="en">Category Font Color:</span>
        </label>
        <input type="color" id="category_font_color" name="category_font_color" value="#000000">
        <button type="button" onclick="updateCategoryFontStyle()" class="update-category-font-btn dual-language">
            <span class="ar">ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø®Ø·</span>
            <span class="en">Update Font Style</span>
        </button>
    </form>
</div>

<!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯ -->
<div class="card-container">
    <h2 class="dual-language">
        <span class="ar">Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯</span>
        <span class="en">Add New Item</span>
    </h2>
    <form id="addItemForm" enctype="multipart/form-data">
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ù„Ù„ÙØ¦Ø§Øª -->
        <select id="category_select" name="category" onchange="fillCategoryFields()">
            <option value="" disabled selected>Ø§Ø®ØªØ± ÙØ¦Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© <> Select an existing category</option>
            {% for category, data in menu.items() %}
            <option value="{{ category }}">{{ category }} ({{ data['name_en'] }})</option>
            {% endfor %}
        </select>
        <input type="text" id="new_category_ar" name="new_category_ar" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© (Ø¹Ø±Ø¨ÙŠ) Category Name (Arabic)" required>
        <input type="text" id="new_category_en" name="new_category_en" placeholder=" Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ) Category Name (English)" required>
        <input type="text" id="name_ar" name="name_ar" placeholder=" Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù (Ø¹Ø±Ø¨ÙŠ) Item Name (Arabic)" required>
        <input type="text" id="name_en" name="name_en" placeholder=" Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ) Item Name (English)" required>
        <input type="number" id="price" name="price" placeholder=" Ø§Ù„Ø³Ø¹Ø± Price" required>
        <input type="number" id="calories" name="calories" placeholder=" Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© Calories">
        <textarea id="description_ar" name="description_ar" placeholder=" Ø§Ù„ÙˆØµÙ (Ø¹Ø±Ø¨ÙŠ)"></textarea>
        <textarea id="description_en" name="description_en" placeholder=" Ø§Ù„ÙˆØµÙ (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)"></textarea>
        <label for="image" class="dual-language">
            <span class="ar">Ø§Ø¯Ø®Ù„ ØµÙˆØ±Ø© Ø§Ù„ØµÙ†Ù:</span>
            <span class="en">Upload Item Image:</span>
        </label>
        <input type="file" id="image" name="image" accept="image/*" required>
        <button type="submit" class="add-item-btn dual-language">
            <span class="ar">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù</span>
            <span class="en">Add Item</span>
        </button>
    </form>
</div>
    <!-- Ù‚Ø³Ù… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… -->
<div class="menu-container">
    <h2 class="dual-language">
        <span class="ar">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</span>
        <span class="en">Menu</span>
    </h2>
    {% for category, data in menu.items() %}
    <div class="category">
        <!-- Ø±Ø£Ø³ Ø§Ù„ÙØ¦Ø© Ù…Ø¹ Ø²Ø± Ø§Ù„Ø­Ø°Ù -->
        <div class="category-header">
            <h3 class="dual-language">
                <span class="ar">{{ category }}</span>
                <span class="en">{{ data['name_en'] }}</span>
            </h3>
            <button class="delete-category-btn dual-language" onclick="deleteCategory('{{ category }}')">
                <span class="ar">Ø­Ø°Ù Ø§Ù„ÙØ¦Ø©</span>
                <span class="en">Delete Category</span>
            </button>
        </div>
        {% for item in data['items'] %}
        <div class="item">
            <!-- Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† -->
            <img src="{{ item.image }}" alt="Image">
            <!-- Ø­Ø§ÙˆÙŠØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ²Ø± Ø§Ù„Ø­Ø°Ù -->
            <div class="item-content">
                <span class="dual-language">
                    <span class="ar">{{ item.name }}</span>
                    <span class="en">{{ item.name_en }}</span>
                </span>
                <button class="delete-btn dual-language" onclick="deleteItem('{{ category }}', '{{ item.name }}')">
                    <span class="ar">Ø­Ø°Ù</span>
                    <span class="en">Delete</span>
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>


   




    <script>
        // ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙŠ Ù…ØªØºÙŠØ± JavaScript
        const menuData = JSON.parse('{{menu | tojson | safe}}');

        // Ø¯Ø§Ù„Ø© Ù„Ù…Ù„Ø¡ Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙØ¦Ø© Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
        function fillCategoryFields() {
            try {
                const selectElement = document.getElementById('category_select');
                const selectedCategory = selectElement.value;

                if (selectedCategory && menuData[selectedCategory]) {
                    const categoryData = menuData[selectedCategory];
                    document.getElementById('new_category_ar').value = selectedCategory; // Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
                    document.getElementById('new_category_en').value = categoryData.name_en; // Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ
                } else {
                    document.getElementById('new_category_ar').value = '';
                    document.getElementById('new_category_en').value = '';
                }
            } catch (error) {
                console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ù„Ø¡ Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙØ¦Ø©:", error);
                document.getElementById('new_category_ar').value = '';
                document.getElementById('new_category_en').value = '';
            }
        }
    
        // Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯
        document.getElementById("addItemForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const formData = new FormData(this);
            fetch("/add_item", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                location.reload();
            })
            .catch(error => console.error("Error:", error));
        });

        // Ø­Ø°Ù ØµÙ†Ù
        function deleteItem(category, itemName) {
            fetch("/delete_item", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ category: category, item_name: itemName })
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                location.reload();
            })
            .catch(error => console.error("Error:", error));
        }

        // Ø­Ø°Ù ÙØ¦Ø©
        function deleteCategory(category) {
            fetch("/delete_category", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ category: category })
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                location.reload();
            })
            .catch(error => console.error("Error:", error));
        }

        // Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©
        function uploadBackground() {
            const fileInput = document.getElementById('background-input');
            const file = fileInput.files[0];
            if (!file) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            const formData = new FormData();
            formData.append('background', file);
            fetch('/upload_background', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!');
                    document.body.style.backgroundImage = url('${data.background}?v=${data.timestamp}');
                } else {
                    alert('ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…
        document.getElementById("restaurantInfoForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const formData = new FormData(this);
            fetch("/update_restaurant_info", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                location.reload();
            })
            .catch(error => console.error("Error:", error));
        });

        // ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…
    document.getElementById("restaurantNameStyleForm").addEventListener("submit", function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        fetch("/update_restaurant_name_style", {
            method: "POST",
            body: formData
        })
        
        .then(response => response.json())
        .then(data => {
            alert(data.message);
            location.reload();
        })
        .catch(error => console.error("Error:", error));
    });


    // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©
    document.getElementById('category_color').addEventListener('input', function () {
        const preview = document.getElementById('category_color_preview');
        preview.style.backgroundColor = this.value;
    });

    // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø©
    document.getElementById('category_font_color').addEventListener('input', function () {
        const preview = document.getElementById('category_font_color_preview');
        preview.style.backgroundColor = this.value;
    });

    document.addEventListener("DOMContentLoaded", function () {
        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙØ¦Ø©
        fetch('/get_category_font_settings')
            .then(response => response.json())
            .then(settings => {
                if (settings) {
                    // ØªØ¹Ø¨Ø¦Ø© Ø­Ø¬Ù… Ø®Ø· Ø§Ù„ÙØ¦Ø©
                    const categoryFontSizeInput = document.getElementById('category_font_size');
                    if (settings.font_size) {
                        categoryFontSizeInput.value = settings.font_size.replace('px', '');
                    }
    
                    // ØªØ¹Ø¨Ø¦Ø© Ù†ÙˆØ¹ Ø®Ø· Ø§Ù„ÙØ¦Ø©
                    const categoryFontFamilySelect = document.getElementById('category_font_family');
                    if (settings.font_family) {
                        categoryFontFamilySelect.value = settings.font_family;
                    }
    
                    // ØªØ¹Ø¨Ø¦Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø©
                    const categoryFontColorInput = document.getElementById('category_font_color');
                    const categoryFontColorPreview = document.getElementById('category_font_color_preview');
                    if (settings.font_color) {
                        categoryFontColorInput.value = settings.font_color;
                        categoryFontColorPreview.style.backgroundColor = settings.font_color;
                    }
                }
            })
            .catch(error => console.error('Error:', error));
    });







// ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø©
function updateCategoryColor() {
    const colorInput = document.getElementById('category_color');
    const color = colorInput.value;
    if (!color) {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù„ÙˆÙ† Ø£ÙˆÙ„Ø§Ù‹');
        return;
    }
    const formData = new FormData();
    formData.append('category_color', color);
    fetch('/upload_background', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            document.getElementById('category_color_preview').style.backgroundColor = color;
        } else {
            alert('ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

// ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø©
function updateCategoryFontColor() {
    const fontColorInput = document.getElementById('category_font_color');
    const fontColor = fontColorInput.value;
    if (!fontColor) {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù„ÙˆÙ† Ø£ÙˆÙ„Ø§Ù‹');
        return;
    }
    const formData = new FormData();
    formData.append('category_font_color', fontColor);
    fetch('/upload_background', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            document.getElementById('category_font_color_preview').style.backgroundColor = fontColor;
        } else {
            alert('ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}


// ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø®Ø· Ø§Ù„ÙØ¦Ø©
function updateCategoryFontStyle() {
    const fontColor = document.getElementById('category_font_color').value;
    const fontSize = document.getElementById('category_font_size').value;
    const fontFamily = document.getElementById('category_font_family').value;
    
    const formData = new FormData();
    if (fontColor) formData.append('category_font_color', fontColor);
    if (fontSize) formData.append('category_font_size', fontSize);
    if (fontFamily) formData.append('category_font_family', fontFamily);
    
    fetch('/upload_background', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø®ØµØ§Ø¦Øµ Ø®Ø· Ø§Ù„ÙØ¦Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            document.getElementById('category_font_color_preview').style.backgroundColor = fontColor;
        } else {
            alert('ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}


document.getElementById("changePasswordForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const formData = new FormData(this);
    fetch("/change_password", {
        method: "POST",
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        alert(data.message || data.error);
    })
    .catch(error => console.error("Error:", error));
});


document.getElementById("updateCredentialsForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const formData = new FormData(this);
    fetch("/update_credentials", {
        method: "POST",
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert(data.message);
            location.reload();
        } else {
            alert(data.error);
        }
    })
    .catch(error => console.error("Error:", error));
});



    </script>

    


    
</body>
</html>


===============================================================
menu.json   Ù…Ù„Ù


{
    "Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©": {
        "name_en": "Main Section",
        "items": [
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "ÙŠØªÙ… Ø´Ø±Ø­ ÙˆØµÙ Ø§Ù„ØµÙ†Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù‡Ù†Ø§ Ø¹Ø±Ø¨ÙŠ",
                "description_en": "ÙŠØªÙ… Ø´Ø±Ø­ ÙˆØµÙ Ø§Ù„ØµÙ†Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù‡Ù†Ø§ Ø¹Ø±Ø¨ÙŠ",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            },
            {
                "name": "Ø§Ù„ØµÙ†Ù",
                "name_en": "item",
                "price": "30",
                "calories": "598",
                "description_ar": "",
                "description_en": "",
                "image": "static/uploads/item.jpg"
            }
        ]
    },
    "Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©1": {
        "name_en": "Main Section1",
        "items": []
    },
    "Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© 2": {
        "name_en": "Main Section 2",
        "items": []
    },
    "Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© 3": {
        "name_en": "Main Section 3",
        "items": []
    }
}