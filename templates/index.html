<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Ø¥Ø¶Ø§ÙØ© Ø®Ø· Noto Naskh Arabic Ù…Ù† Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>{{ 'Menu' if lang == 'en' else 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©' }}</title>
</head>
<body style="background-image: url('{{ bg_image }}?v={{ timestamp }}');">
 <!--  style="background-image: url('{{ bg_image }}');">  -->

       
    <!-- Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© -->
    <a href="?lang={{ 'en' if lang == 'ar' else 'ar' }}" class="language-switcher">
        {{ 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' if lang == 'en' else 'English' }}
    </a>

    <!-- Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… 
    <div class="admin-panel">
        <a href="/admin" class="admin-button">{{ 'Admin Panel' if lang == 'en' else 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…' }}</a>
    </div>
              
    -->
    <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆØ§Ù„Ø´Ø¹Ø§Ø± -->
    <div class="restaurant-header">
        <img src="{{ restaurant_info['logo'] }}" alt="Logo" class="restaurant-logo">
        <h1 class="restaurant-name" style="font-size: {{ restaurant_info.get('font_size', '24px') }}; color: {{ restaurant_info.get('font_color', '#000000') }}; font-family: {{ restaurant_info.get('font_family', 'Arial') }};">
            {% if lang == 'en' and restaurant_info.get('name_en') %}
                {{ restaurant_info['name_en'] }}
            {% else %}
                {{ restaurant_info['name'] }}
            {% endif %}
        </h1>
    </div>

    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="menu-container">
        <div class="category-grid">
            {% for category, details in menu.items() %}
            {% set category_id = category | replace(' ', '_') %}
            <div class="category-box">
                <!-- Ø²Ø± Ø§Ù„ÙØ¦Ø© -->
                <div class="category" data-category="{{ category_id }}" onclick="toggleItems('{{ category_id }}')">
                    {{ details['name_en'] if lang == 'en' else category }}
                </div>
                <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ¦Ø© -->
                <ul class="menu-items" id="{{ category_id }}">
                    {% for item in details['items'] %}
                    <li class="item">
                        <div class="item-layout">
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø±: Ø§Ù„ØµÙˆØ±Ø© -->
                            <div class="left-column">
                                <img src="{{ item['image'] }}" alt="{{ item['name'] }}">
                            </div>
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆØ³Ø·: Ø§Ø³Ù… Ø§Ù„ØµÙ†ÙØŒ Ø§Ù„Ø³Ø¹Ø±ØŒ ÙˆØ§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© -->
                            <div class="center-column">
                                <!-- ÙƒØªÙ„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø³Ø¹Ø± -->
                                <div class="item-details">
                                    <!-- Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù -->
                                    <h4 class="item-name">{{ item['name_en'] if lang == 'en' else item['name'] }}</h4>
                                    <!-- Ø§Ù„Ø³Ø¹Ø± ÙˆØ±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø© -->
                                    <p class="price">{{ item['price'] }} {{ 'SAR' if lang == 'en' else 'ï·¼' }}</p>
                                </div>
                                <!-- Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© -->
                                {% if item['calories'] %}
                                <span class="calories">{{ item['calories'] }}ğŸ”¥</span>
                                {% endif %}
                            </div>
                            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù†: Ø§Ù„ÙˆØµÙ -->
                            <div class="right-column">
                                <!-- Ø§Ù„ÙˆØµÙ -->
                                {% if item['description_ar'] or item['description_en'] %}
                                <p class="description">{{ item['description_ar'] if lang == 'ar' else item['description_en'] }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
        </div>
    </div>
    
    


<!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ -->
<footer class="footer-bar">
    <div class="footer-content">
        <!-- Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø±Ù‰: Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ§Ù„Ø³Ù†Ø© -->
        <div class="left-section">
            <span class="rights">{{ 'All Rights Reserved' if lang == 'en' else 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©' }}</span>
            <span class="current-year">&copy; <span id="current-year"></span></span>
        </div>

        <!-- Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰: ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± ÙˆØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ -->
        <div class="right-section">
            <span class="design-development">{{ 'Design & Development / A.O' if lang == 'en' else 'ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± /  Ø¹.Ø¹' }}</span>
            <div class="whatsapp-contact">
               <!-- <span>{{ 'Contact Us' if lang == 'en' else 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§' }}</span>
                <a href="https://wa.me/qr/5W3XHGTHNZQAJ1" class="whatsapp-link" target="_blank">
                    <img src="{{ url_for('static', filename='whatsapp-icon.png') }}" alt="WhatsApp">
                </a>     -->
            </div>
        </div>
    </div>
</footer>



    <!-- Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
    <script>
     // ØªØ¨Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ±
        function toggleItems(category) {
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            var itemsList = document.getElementById(category);

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø¦ÙŠØ© Ø£Ù… Ù„Ø§
            if (itemsList.style.display === "block") {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø±Ø¦ÙŠØ©ØŒ Ù‚Ù… Ø¨Ø¥Ø®ÙØ§Ø¦Ù‡Ø§
                itemsList.style.display = "none";
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø®ÙÙŠØ©ØŒ Ù‚Ù… Ø¨Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø£ÙˆÙ„Ø§Ù‹
                document.querySelectorAll('.menu-items').forEach(function (list) {
                    list.style.display = "none";
                });
                // Ø«Ù… Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
                itemsList.style.display = "block";
            }
        }



    // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
    fetch('/get_category_color')
        .then(response => response.json())
        .then(data => {
            if (data.color) {
                document.documentElement.style.setProperty('--category-color', data.color);
            }
        })
        .catch(error => console.error('Error:', error));

        // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
        fetch('/get_category_font_color')
            .then(response => response.json())
            .then(data => {
                if (data.color) {
                    document.documentElement.style.setProperty('--category-font-color', data.color);
                }
            })
            .catch(error => console.error('Error:', error));

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§
            function updateBackground() {
                fetch('/get_background')
                    .then(response => response.json())
                    .then(data => {
                        document.body.style.backgroundImage = url('${data.background}?v=${data.timestamp}');
                    })
                    .catch(error => console.error('Error:', error));
            }


                        document.addEventListener("DOMContentLoaded", function () {
                updateBackground();
            });


            // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
            fetch('/get_category_color')
                .then(response => response.json())
                .then(data => {
                    if (data.color) {
                        document.documentElement.style.setProperty('--category-color', data.color);
                    }
                })
                .catch(error => console.error('Error:', error));

            // Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆÙ† Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
            fetch('/get_category_font_color')
                .then(response => response.json())
                .then(data => {
                    if (data.color) {
                        document.documentElement.style.setProperty('--category-font-color', data.color);
                    }
                })
                .catch(error => console.error('Error:', error));

    // Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø· Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
    fetch('/get_category_font_settings')
        .then(response => response.json())
        .then(data => {
            if (data.font_size) {
                document.documentElement.style.setProperty('--category-font-size', data.font_size);
            }
            if (data.font_family) {
                document.documentElement.style.setProperty('--category-font-family', data.font_family);
            }
        })
        .catch(error => console.error('Error:', error));

    

    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ
    const currentYear = new Date().getFullYear();
    document.getElementById('current-year').textContent = currentYear;


    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„
document.addEventListener("scroll", function () {
    const scrollSection = document.getElementById("scroll-section");
    const scrollPosition = window.scrollY + window.innerHeight;
    const pageHeight = document.body.offsetHeight;

    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ù…Ù† Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø©
    if (scrollPosition >= pageHeight - 20) {
        scrollSection.classList.remove("hidden");
    } else {
        scrollSection.classList.add("hidden");
    }
});


        
    </script>

  


  

    

</body>
</html>

